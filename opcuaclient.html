<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/default.min.css">
    <link href="styles/main.css" rel="stylesheet"></link>
  </head>
  <body>



    <div class="logoarea" >
      <img src="img/logo.png" border="0" id="logo"/>
      treestructure
    </div>


    <div id="impress">

      <div id="start" class="step slide" data-x="-4000" data-y="-4000">
        <h1>OPC-UA in the Context of Industry 4.0</h1>
        Martin Baum
      </div>



      <div id="opcwhat" class="step slide" data-x="-2000" data-y="-5000" data-scale="300">
        <h1>OPC-What ?</h1>
        the bridge between the enterprise and the embedded world
      </div>

      <div id="goals" class="step slide" data-x="70000" data-y="-200000" data-scale="50">
        <h1>Goals</h1>
        <ul>
          <li>Interoperability</li>
          <li>Robustness</li>
          <li>Scalability</li>
          <li>Security</li>
        </ul>
        <img src="img/example.jpg" id="example"/>
      </div>


      <div id="opcimg" class="step slide" data-x="70000" data-y="-10000" data-scale="50">
        <img src="img/opcoverview.png" id="opcoverview"/>
      </div>




      <div id="factory" class="step slide" data-x="70000" data-y="-50000" data-scale="50">
        <img src="img/industrie40.png" id="industrie"/>
      </div>


      <div id="building" class="step slide" data-x="70000" data-y="-100000" data-scale="50">
        <img src="img/building.png" id="building"/>
      </div>

      <div id="history1" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Industrie 4.0</h1>
        <img src="./img/simatic.png" style="height: 70%; position: relative; top: -20%; left: 20%"/>
      </div>

      <div id="history2" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>History of Industrial Automation</h1>
        <ul>
          <li>(Electro-) Mechanical Automation since the beginning of the industrial revolution</li>
          <li>PLC/SPS - 1968 by Honeywell</li>
          <li>Industrial Ethernet since 1985</li>
          <li>Rise of contemporary bus systems (Modbus, DALI, Profibus, Foundation)</li>
          <li>Multiprotocol Bus Systems</li>
        </ul>
      </div>
              

      <div id="history3" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <img src="img/pyramide.png" id="pyramide" style="height: 80%">
      </div>



      <div id="opcdesc" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Hitchhikers guide through OPC-UA</h1>
      </div>

      <div id="datarep" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Adress Space</h1>
        <ul>
          <li>Everything is a Node</li>
          <li>Nodes are related to each other</li>
          <li>Nodes have Attributes</li>
          <li>Nodes are of a certain type</li>
          <li>Dynamic adress space</li>
        </ul>
      </div>
      <div id="typing" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Type System</h1>
        <ul>
          <li>18 atomic base types</li>
          <li>VariableTypes, Object Types, </li>
          <li>Inheritance</li>
          <li>Instanciation</li>
        </ul>
      </div>

      <div id="messages" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Messages</h1>
        <ul>
          <li>All messaging is done by services </li>
          <li>Services define messaging protocols</li>
          <li>Browse, Read, Write, Sessions, Subscriptions</li>
        </ul>
      </div>

      <div id="transport" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Transport</h1>
        <ul>
          <li>Services define structure of messages</li>
          <li>Binary or XML Encoding</li>
          <li>transport over http or plain tcp</li>
          <li>set of primitive types</li>
          <li>cascading structured types</li>
        </ul>
      </div>



      <div id="opcstack" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <img src="./img/opcstack.png" id="opcstackimg" />
      </div>

      <div id="security" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Security</h1>
        <ul>
          <li>TLS Authentication</li>
          <li>Encrypted Credentials</li>
          <li>Authentication via X.509 certificates</li>
          <li>not so up-to-date algorithms</li>
        </ul>
      </div>






      <div id="imoddels" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Information Models</h1>
        <ul>
          <li>Model Libaries</li>
          <li>Device Integration</li>
          <li>Data Access</li>
          <li>History Access</li> 
          <li>Programs</li> 
          <li>Information Models for certain Devices</li> 
        </ul>
      </div>




      <div id="history" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>History Access</h1>
        <ul>
          <li>HistoryRead Service</li>
          <li>Write Values to Databases</li>
        </ul>
      </div>

      <div id="datamodelling" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Integer Format</h1>
        <img src="img/integer.png" />
        <ul>
          <li>Bitlength</li>
          <li>Signing</li>
          <li>Endianess</li>
          <li>(U)Int 8 - 64</li>
        </ul>
      </div>

      <div id="sdks" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Working SDKs</h1>
      </div>

      <div class="step slide" id="numbers" data-x="5980" data-y="-6200" data-rotate="180" data-scale="0.4">
        <h1>Numbers in Javascript</h1>
        <ul>
          <li>Every number in Javascript is a <br/> 64-bit IEEE64 Value</li>
          <li>2<sup>53</sup> Integer values possible -length of Mantissa</li>
          <li>no BigInt in javascript</li>
        </ul>
      </div>

      <div class="step slide" id="bitwise" data-x="5980" data-y="-6600" data-rotate="180" data-scale="0.4">
        <h1>Bit Level Operators</h1>
          <ul>
            <li>Shift operators: &lt;&lt;, &gt;&gt;, &gt;&gt;&gt; </li>
            <li>Logical Operators: ^, | , &, ~ </li>
            <li>converted to 32-bit integer before execution</li>
            <li>mostly used as a replacement for Math.floor()</li>
            <li class="highlight">loss of precicion and performance!</li>
            <li class="highlight">no shifting for floating points!</li>
          </ul>
        </h1>
      </div>
    
      <div class="step slide" id="fpproblem" data-x="5980" data-y="-7000" data-rotate="180" data-scale="0.4">
        <h1>Floatingpoints and Dataviews</h1>
        <ul>
          <li>DataView.getFloat and setFloat are not precise</li>
          <li>own IEEE754 construction needed</li>
          <li>based alot on string operations and rounding</li>

        </ul>
      </div>


      <div class="step slide" id="strings" data-x="5980" data-y="-7400" data-rotate="180" data-scale="0.4">
        <h1>Strings and Big Integer</h1>
        <ul>
          <li>Strings in OPC-UA are represented as UTF-8</li>
          <li>utf8.js: Array of Byte to Utf8 String</li>
          <li>Bignumber.js - based on arrays</li>
          <li>Builds its own Arithmetics for arbitrary precicion</li>
        </ul>
      </div>



      <div class="step slide" id="concBinary" data-x="5980" data-y="-7800" data-rotate="180" data-scale="0.4">
        <h1>Approach for parsing Binary</h1>
        <ol>
          <li>Take n bytes from the dataview</li>
          <li>calculate value for Integer or Float</li>
          <li>Usage of Utf.js and BigInt.js for parsing Strings and 64 bit integers</li>
          <li>increment a bytecounter</li>
          <li>recursively build up cascading object tree based on message type</li>
        </ol>
      </div>









      <div id="conclusion" class="step slide hidden" data-x="70000" data-y="-250000" data-scale="20">
        <h1>Conclusion</h1>
        <ul>
        </ul>
      </div>

      <div class="step slide" id="thanks" data-x="-4700" data-y="-3950" data-scale="0.8">
        <h1>Thanks!</h1>
        martin.baum@treestructure.net
      </div>
    </div> 
    <script src="impress.js"></script>
    <script>impress().init();</script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>   <title>Building an OPCUA CLient in Javascript</title>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
